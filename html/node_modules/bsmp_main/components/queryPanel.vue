<template>
  <div id="query-block" class="query-block">
    <div class="query-block-control" @click="togglePanel">
      <i class="search el-icon-search">查询条件</i><i :class="classObject">{{contentChar}}</i>
    </div>
    <div v-show="open">
      <slot></slot>
    </div>
  </div>
</template>
<script>
  export default {
    name: 'queryPanel',
    data () {
      return {
        open: true
      };
    },
    methods: {
      togglePanel () {
        this.open = !this.open;
        this.$emit('switchQuery', this.open);
      }
    },
    computed: {
      classObject: function () {
        return this.open ? 'el-icon-caret-top query-icon-right' : 'el-icon-caret-bottom query-icon-right';
      },
      contentChar: function () {
        return this.open ? '隐藏' : '显示';
      }
    }
  };
</script>
<style lang="stylus" scoped>
  .query-block
    border: 2px solid #eaeefb
    form
      margin: 2px 2px
      padding: 2px

  .query-block-control
    height: 20px
    box-sizing: border-box
    border-bottom-left-radius: 4px
    border-bottom-right-radius: 4px
    transition: .2s
    position: relative
    font-size: 14px
    background-color: rgb(238, 241, 246)
    cursor pointer;
    i
      font-size: 12px
      line-height: 20px
      transition: .3s
      color: rgb(191, 203, 217)
    .search
      margin-left: 10px

  .query-icon-right
    float: right
    margin-right: 10px
</style>
